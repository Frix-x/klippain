# Extruder TMC2240 definition
[gcode_macro _USER_VARIABLES]
variable_etmc_driver: "TMC2240"
gcode:


## Based upon the settings provided by Esoterical
## https://github.com/Esoterical/voron_canbus/blob/main/toolhead_flashing/common_hardware/BigTreeTech%20SB2209%20and%20SB2240/SB2240%20Stepper%20Configuration%20and%20Undervoltage.md
[tmc2240 extruder]
cs_pin: E_CS
spi_speed: 500000
spi_software_sclk_pin: E_SCLK
spi_software_mosi_pin: E_MOSI
spi_software_miso_pin: E_MISO
interpolate: False
run_current: 0.6
rref: 12000
stealthchop_threshold: 99999
driver_IHOLDDELAY: 8
driver_IRUNDELAY: 2
driver_TBL: 3
driver_TOFF: 4
driver_HEND: 3
driver_HSTRT: 4
driver_TPFD: 0
driver_PWM_AUTOSCALE: True
driver_PWM_AUTOGRAD: True
driver_PWM_GRAD: 12
driver_PWM_OFS: 40
driver_PWM_REG: 15
driver_PWM_LIM: 12
driver_SGT: 30
driver_SEMIN: 2
driver_SEMAX: 8
